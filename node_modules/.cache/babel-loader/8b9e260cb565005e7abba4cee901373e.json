{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\eray\\\\Desktop\\\\workintechSprints\\\\WorkintechSprint7\\\\fsweb-s7-challenge-pizza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\eray\\\\Desktop\\\\workintechSprints\\\\WorkintechSprint7\\\\fsweb-s7-challenge-pizza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"C:\\\\Users\\\\eray\\\\Desktop\\\\workintechSprints\\\\WorkintechSprint7\\\\fsweb-s7-challenge-pizza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\eray\\\\Desktop\\\\workintechSprints\\\\WorkintechSprint7\\\\fsweb-s7-challenge-pizza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\eray\\\\Desktop\\\\workintechSprints\\\\WorkintechSprint7\\\\fsweb-s7-challenge-pizza\\\\src\\\\components\\\\OrderForm.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./OrderForm.css\";\nimport * as Yup from \"yup\";\nimport { formSchema } from \"./validation/Yup\";\nimport { useState, useEffect } from \"react\";\nvar OrderForm = function OrderForm() {\n  var pizza = {\n    pizzaName: \"Position Absolute Acı Pizza\",\n    name: \"\",\n    size: \"\",\n    price: 85.5,\n    dough: \"\",\n    extra: [],\n    special: \"\",\n    count: 1,\n    point: 4.9,\n    comment: 200\n  };\n  var errorPizza = {\n    name: \"\",\n    size: \"\",\n    dough: \"\",\n    extra: \"\",\n    count: \"\",\n    special: \"\"\n  };\n  var _useState = useState(pizza),\n    _useState2 = _slicedToArray(_useState, 2),\n    order = _useState2[0],\n    setOrder = _useState2[1];\n  var _useState3 = useState(errorPizza),\n    _useState4 = _slicedToArray(_useState3, 2),\n    orderError = _useState4[0],\n    setOrderError = _useState4[1];\n  var _useState5 = useState(pizza.count),\n    _useState6 = _slicedToArray(_useState5, 2),\n    count = _useState6[0],\n    setCount = _useState6[1];\n  var _useState7 = useState(pizza.price),\n    _useState8 = _slicedToArray(_useState7, 2),\n    firstPrice = _useState8[0],\n    setFirstPrice = _useState8[1];\n  var _useState9 = useState(pizza.price),\n    _useState10 = _slicedToArray(_useState9, 2),\n    totalPrice = _useState10[0],\n    setTotalPrice = _useState10[1];\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    extraPrice = _useState12[0],\n    setExtraPrice = _useState12[1];\n  var _useState13 = useState([]),\n    _useState14 = _slicedToArray(_useState13, 2),\n    lastOrder = _useState14[0],\n    setLastOrder = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    valid = _useState16[0],\n    setValid = _useState16[1];\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    if (valid) {\n      axios.post(\"https://reqres.in/api/users\", order).then(function (res) {\n        return setLastOrder([].concat(_toConsumableArray(lastOrder), [res.data]));\n      });\n    }\n  };\n  var validation = function validation(name, value) {\n    Yup.reach(formSchema, name).validate(value).then(function () {\n      return setOrderError(_objectSpread({}, orderError, _defineProperty({}, name, \"\")));\n    }).catch(function (err) {\n      return setOrderError(_objectSpread({}, orderError, _defineProperty({}, name, err.errors[0])));\n    });\n    setOrder(_objectSpread({}, order, _defineProperty({}, name, value)));\n  };\n  var changeHandler = function changeHandler(e) {\n    var _e$target = e.target,\n      type = _e$target.type,\n      name = _e$target.name,\n      value = _e$target.value;\n    if (type === \"checkbox\") {\n      if (order.extra.includes(value)) {\n        setOrder(_objectSpread({}, order, {\n          extra: order.extra.filter(function (item) {\n            return item !== value;\n          })\n        }));\n      } else {\n        setOrder(_objectSpread({}, order, {\n          extra: [].concat(_toConsumableArray(order.extra), [value])\n        }));\n      }\n    } else {\n      setOrder(_objectSpread({}, order, _defineProperty({}, name, value)));\n      validation(name, value);\n    }\n  };\n  var plus = function plus() {\n    setCount(count + parseInt(1));\n    setOrder(_objectSpread({}, order, {\n      count: count\n    }));\n  };\n  var minus = function minus() {\n    count > 1 ? setCount(count - parseInt(1)) : setCount(1);\n    setOrder(_objectSpread({}, order, {\n      count: count\n    }));\n  };\n  useEffect(function () {\n    Yup.reach(formSchema, \"extra\").validate(order.extra).then(function () {\n      return setOrderError(_objectSpread({}, orderError, {\n        extra: \"\"\n      }));\n    }).catch(function (err) {\n      return setOrderError(_objectSpread({}, orderError, {\n        extra: err.errors[0]\n      }));\n    });\n    console.log(order);\n  }, [order.extra]);\n  useEffect(function () {\n    formSchema.isValid(order).then(function (valid) {\n      return setValid(!valid);\n    });\n    setExtraPrice(order.extra.length * 5);\n    setTotalPrice((firstPrice + order.extra.length * 5) * count);\n  }, [order]);\n  useEffect(function () {\n    console.log(order);\n  }, [order]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"order-header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }));\n};\nexport default OrderForm;","map":{"version":3,"names":["React","axios","Yup","formSchema","useState","useEffect","OrderForm","pizza","pizzaName","name","size","price","dough","extra","special","count","point","comment","errorPizza","_useState","_useState2","_slicedToArray","order","setOrder","_useState3","_useState4","orderError","setOrderError","_useState5","_useState6","setCount","_useState7","_useState8","firstPrice","setFirstPrice","_useState9","_useState10","totalPrice","setTotalPrice","_useState11","_useState12","extraPrice","setExtraPrice","_useState13","_useState14","lastOrder","setLastOrder","_useState15","_useState16","valid","setValid","submitHandler","e","preventDefault","post","then","res","concat","_toConsumableArray","data","validation","value","reach","validate","_objectSpread","_defineProperty","catch","err","errors","changeHandler","_e$target","target","type","includes","filter","item","plus","parseInt","minus","console","log","isValid","length","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","className"],"sources":["C:/Users/eray/Desktop/workintechSprints/WorkintechSprint7/fsweb-s7-challenge-pizza/src/components/OrderForm.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./OrderForm.css\";\r\nimport * as Yup from \"yup\";\r\nimport { formSchema } from \"./validation/Yup\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst OrderForm = () => {\r\n  const pizza = {\r\n    pizzaName: \"Position Absolute Acı Pizza\",\r\n    name: \"\",\r\n    size: \"\",\r\n    price: 85.5,\r\n    dough: \"\",\r\n    extra: [],\r\n    special: \"\",\r\n    count: 1,\r\n    point: 4.9,\r\n    comment: 200,\r\n  };\r\n  const errorPizza = {\r\n    name: \"\",\r\n    size: \"\",\r\n    dough: \"\",\r\n    extra: \"\",\r\n    count: \"\",\r\n    special: \"\",\r\n  };\r\n  const [order, setOrder] = useState(pizza);\r\n  const [orderError, setOrderError] = useState(errorPizza);\r\n  const [count, setCount] = useState(pizza.count);\r\n  const [firstPrice, setFirstPrice] = useState(pizza.price);\r\n  const [totalPrice, setTotalPrice] = useState(pizza.price);\r\n  const [extraPrice, setExtraPrice] = useState(0);\r\n  const [lastOrder, setLastOrder] = useState([]);\r\n  const [valid, setValid] = useState(false);\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault();\r\n    if (valid) {\r\n      axios\r\n        .post(\"https://reqres.in/api/users\", order)\r\n        .then(res => setLastOrder([...lastOrder, res.data]));\r\n    }\r\n  };\r\n  const validation = (name, value) => {\r\n    Yup.reach(formSchema, name)\r\n      .validate(value)\r\n      .then(() => setOrderError({ ...orderError, [name]: \"\" }))\r\n      .catch(err => setOrderError({ ...orderError, [name]: err.errors[0] }));\r\n    setOrder({ ...order, [name]: value });\r\n  };\r\n  const changeHandler = e => {\r\n    const { type, name, value } = e.target;\r\n    if (type === \"checkbox\") {\r\n      if (order.extra.includes(value)) {\r\n        setOrder({\r\n          ...order,\r\n          extra: order.extra.filter(item => item !== value),\r\n        });\r\n      } else {\r\n        setOrder({ ...order, extra: [...order.extra, value] });\r\n      }\r\n    } else {\r\n      setOrder({ ...order, [name]: value });\r\n      validation(name, value);\r\n    }\r\n  };\r\n  const plus = () => {\r\n    setCount(count + parseInt(1));\r\n    setOrder({ ...order, count: count });\r\n  };\r\n  const minus = () => {\r\n    count > 1 ? setCount(count - parseInt(1)) : setCount(1);\r\n    setOrder({ ...order, count: count });\r\n  };\r\n\r\n  useEffect(() => {\r\n    Yup.reach(formSchema, \"extra\")\r\n      .validate(order.extra)\r\n      .then(() => setOrderError({ ...orderError, extra: \"\" }))\r\n      .catch(err => setOrderError({ ...orderError, extra: err.errors[0] }));\r\n    console.log(order);\r\n  }, [order.extra]);\r\n\r\n  useEffect(() => {\r\n    formSchema.isValid(order).then(valid => setValid(!valid));\r\n    setExtraPrice(order.extra.length * 5);\r\n    setTotalPrice((firstPrice + order.extra.length * 5) * count);\r\n  }, [order]);\r\n\r\n  useEffect(() => {\r\n    console.log(order);\r\n  }, [order]);\r\n  return (\r\n    <div>\r\n      <header className=\"order-header\"></header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}